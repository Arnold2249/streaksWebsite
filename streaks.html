<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi Streak Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }

        h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        /* Add Streak Form */
        .add-streak-form {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        input[type="text"] {
            flex: 1;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.2s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #3498db;
        }

        .add-btn {
            background: #2ecc71;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .add-btn:hover {
            background: #27ae60;
        }

        /* Streaks Grid */
        .streaks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .streak-card {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .streak-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .streak-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .streak-title {
            font-size: 1.4rem;
            color: #2c3e50;
            font-weight: 600;
        }

        .delete-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 6px 12px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.2s ease;
        }

        .delete-btn:hover {
            background: #c0392b;
        }

        .streak-count {
            font-size: 3.5rem;
            font-weight: 800;
            color: #3498db;
            text-align: center;
            margin: 15px 0;
        }

        .streak-label {
            color: #7f8c8d;
            font-size: 1rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .streak-controls {
            display: flex;
            gap: 10px;
        }

        .mark-btn {
            flex: 1;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .mark-btn:hover {
            background: #2980b9;
        }

        .mark-btn.completed {
            background: #27ae60;
        }

        .reset-btn {
            background: #ecf0f1;
            color: #2c3e50;
            border: none;
            border-radius: 10px;
            padding: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .reset-btn:hover {
            background: #dfe6e9;
        }

        /* Statistics */
        .stats {
            background: white;
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .stats-title {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            color: #3498db;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.95rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .empty-message {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .streaks-grid {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .streak-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”¥ Multi Streak Tracker</h1>
            <p class="subtitle">Track multiple habits at once</p>
        </header>
        
        <div class="add-streak-form">
            <div class="form-row">
                <input type="text" id="streakName" placeholder="Enter streak name (e.g., 'Exercise', 'Meditation', 'Read')">
                <button class="add-btn" id="addStreakBtn">+ Add Streak</button>
            </div>
        </div>
        
        <div class="streaks-grid" id="streaksGrid">
            <!-- Streak cards will be added here -->
        </div>
        
        <div class="stats">
            <h2 class="stats-title">ðŸ“Š Overall Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalStreaks">0</div>
                    <div class="stat-label">Total Streaks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeStreaks">0</div>
                    <div class="stat-label">Active Streaks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalDays">0</div>
                    <div class="stat-label">Total Days</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="completedToday">0</div>
                    <div class="stat-label">Done Today</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class MultiStreakTracker {
            constructor() {
                this.storageKey = 'multiStreakData';
                this.streaks = this.loadData();
                this.init();
            }
            
            loadData() {
                const saved = localStorage.getItem(this.storageKey);
                return saved ? JSON.parse(saved) : [];
            }
            
            saveData() {
                localStorage.setItem(this.storageKey, JSON.stringify(this.streaks));
            }
            
            init() {
                this.renderStreaks();
                this.updateStats();
                this.setupEventListeners();
            }
            
            formatDate(date) {
                return date.toISOString().split('T')[0];
            }
            
            addStreak(name) {
                if (!name.trim()) {
                    alert('Please enter a streak name');
                    return;
                }
                
                const newStreak = {
                    id: Date.now().toString(),
                    name: name.trim(),
                    currentStreak: 0,
                    longestStreak: 0,
                    lastActivity: null,
                    completedDays: [],
                    totalCompleted: 0,
                    createdAt: new Date().toISOString()
                };
                
                this.streaks.push(newStreak);
                this.saveData();
                this.renderStreaks();
                this.updateStats();
                
                // Clear input
                document.getElementById('streakName').value = '';
            }
            
            deleteStreak(id) {
                if (confirm('Are you sure you want to delete this streak? This cannot be undone.')) {
                    this.streaks = this.streaks.filter(streak => streak.id !== id);
                    this.saveData();
                    this.renderStreaks();
                    this.updateStats();
                }
            }
            
            markStreak(id) {
                const streak = this.streaks.find(s => s.id === id);
                if (!streak) return;
                
                const today = this.formatDate(new Date());
                const yesterday = this.formatDate(new Date(Date.now() - 86400000));
                
                // Check if already marked today
                if (streak.lastActivity === today) return;
                
                // Update streak logic
                if (streak.lastActivity === yesterday || streak.currentStreak === 0) {
                    streak.currentStreak++;
                } else {
                    streak.currentStreak = 1;
                }
                
                // Update longest streak
                if (streak.currentStreak > streak.longestStreak) {
                    streak.longestStreak = streak.currentStreak;
                }
                
                // Update data
                streak.lastActivity = today;
                streak.totalCompleted++;
                
                if (!streak.completedDays.includes(today)) {
                    streak.completedDays.push(today);
                }
                
                this.saveData();
                this.renderStreaks();
                this.updateStats();
                
                // Visual feedback
                this.showNotification(`${streak.name} streak updated!`);
            }
            
            resetStreak(id) {
                if (confirm('Are you sure you want to reset this streak?')) {
                    const streak = this.streaks.find(s => s.id === id);
                    if (!streak) return;
                    
                    streak.currentStreak = 0;
                    streak.lastActivity = null;
                    streak.completedDays = [];
                    streak.totalCompleted = 0;
                    
                    this.saveData();
                    this.renderStreaks();
                    this.updateStats();
                }
            }
            
            getStreakStatus(id) {
                const streak = this.streaks.find(s => s.id === id);
                if (!streak) return 'not-started';
                
                const today = this.formatDate(new Date());
                const yesterday = this.formatDate(new Date(Date.now() - 86400000));
                
                if (streak.lastActivity === today) return 'completed';
                if (streak.lastActivity === yesterday) return 'active';
                if (streak.lastActivity && streak.lastActivity < yesterday) return 'broken';
                return 'not-started';
            }
            
            getStreakMessage(id) {
                const status = this.getStreakStatus(id);
                const streak = this.streaks.find(s => s.id === id);
                
                switch(status) {
                    case 'completed':
                        return 'Great job today!';
                    case 'active':
                        return 'Keep your streak going!';
                    case 'broken':
                        return 'Start a new streak today!';
                    default:
                        return 'Start your first streak!';
                }
            }
            
            renderStreaks() {
                const grid = document.getElementById('streaksGrid');
                
                if (this.streaks.length === 0) {
                    grid.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ðŸ“Š</div>
                            <div class="empty-message">No streaks yet. Add your first one!</div>
                        </div>
                    `;
                    return;
                }
                
                grid.innerHTML = this.streaks.map(streak => {
                    const status = this.getStreakStatus(streak.id);
                    const isCompletedToday = status === 'completed';
                    
                    return `
                        <div class="streak-card">
                            <div class="streak-header">
                                <div class="streak-title">${streak.name}</div>
                                <button class="delete-btn" onclick="streakTracker.deleteStreak('${streak.id}')">
                                    Ã—
                                </button>
                            </div>
                            
                            <div class="streak-count">${streak.currentStreak}</div>
                            <div class="streak-label">DAY STREAK</div>
                            
                            <div class="streak-controls">
                                <button class="mark-btn ${isCompletedToday ? 'completed' : ''}" 
                                        onclick="streakTracker.markStreak('${streak.id}')"
                                        ${isCompletedToday ? 'disabled' : ''}>
                                    ${isCompletedToday ? 'âœ… Done Today' : 'âœ… Mark Today'}
                                </button>
                                <button class="reset-btn" onclick="streakTracker.resetStreak('${streak.id}')">
                                    ðŸ”„ Reset
                                </button>
                            </div>
                            
                            <div style="margin-top: 15px; font-size: 0.9rem; color: #7f8c8d;">
                                <div>Longest: ${streak.longestStreak} days</div>
                                <div>Total: ${streak.totalCompleted} days</div>
                                <div>Last: ${streak.lastActivity ? new Date(streak.lastActivity).toLocaleDateString() : 'Never'}</div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            updateStats() {
                const today = this.formatDate(new Date());
                
                const totalStreaks = this.streaks.length;
                const activeStreaks = this.streaks.filter(s => {
                    const yesterday = this.formatDate(new Date(Date.now() - 86400000));
                    return s.lastActivity === today || s.lastActivity === yesterday;
                }).length;
                
                const totalDays = this.streaks.reduce((sum, streak) => sum + streak.totalCompleted, 0);
                const completedToday = this.streaks.filter(s => s.lastActivity === today).length;
                
                document.getElementById('totalStreaks').textContent = totalStreaks;
                document.getElementById('activeStreaks').textContent = activeStreaks;
                document.getElementById('totalDays').textContent = totalDays;
                document.getElementById('completedToday').textContent = completedToday;
            }
            
            showNotification(message) {
                // Simple notification effect
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #2ecc71;
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 1000;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }
            
            setupEventListeners() {
                document.getElementById('addStreakBtn').addEventListener('click', () => {
                    const nameInput = document.getElementById('streakName');
                    this.addStreak(nameInput.value);
                });
                
                document.getElementById('streakName').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.addStreak(e.target.value);
                    }
                });
            }
        }
        
        // Add CSS animations for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize the streak tracker
        let streakTracker;
        document.addEventListener('DOMContentLoaded', () => {
            streakTracker = new MultiStreakTracker();
        });
    </script>
</body>
</html>